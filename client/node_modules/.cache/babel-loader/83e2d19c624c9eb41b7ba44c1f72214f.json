{"ast":null,"code":"import _objectSpread from\"/Users/sema/tagtag/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/sema/tagtag/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import AddEvent from\"../components/AddEvent\";import EventCard from\"../components/EventCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EventList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var storedToken=localStorage.getItem('authToken');var getAllEvents=function getAllEvents(){axios.get(\"/api/events\",{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){setEvents(response.data.createdEvents);}).catch(function(err){return console.log(err);});};useEffect(function(){getAllEvents();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"All your events\"}),/*#__PURE__*/_jsx(AddEvent,{getAllEvents:getAllEvents}),events.map(function(event){return/*#__PURE__*/_jsx(EventCard,_objectSpread({},event),event._id);})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","AddEvent","EventCard","EventList","events","setEvents","storedToken","localStorage","getItem","getAllEvents","get","headers","Authorization","then","response","data","createdEvents","catch","err","console","log","map","event","_id"],"sources":["/Users/sema/tagtag/client/src/pages/EventList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport axios from \"axios\"\nimport AddEvent from \"../components/AddEvent\"\nimport EventCard from \"../components/EventCard\"\n\nexport default function EventList() {\n    const [events, setEvents] = useState([])\n\n    const storedToken = localStorage.getItem('authToken')\n    const getAllEvents = () => {\n        axios.get(\"/api/events\", { headers: { Authorization: `Bearer ${storedToken}`}})\n            .then(response => {\n                setEvents(response.data.createdEvents)\n            })\n            .catch(err => console.log(err))\n    }\n\n    useEffect(() => {\n        getAllEvents()\n    }, [])\n\n    return (\n        <>\n            <h1>All your events</h1>\n            <AddEvent getAllEvents={getAllEvents} />\n            {events.map(event => <EventCard key={event._id} {...event} />)}\n        </>\n    )\n}"],"mappings":"6NAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,SAAP,KAAqB,wBAArB,CACA,MAAOC,UAAP,KAAsB,yBAAtB,C,6IAEA,cAAe,SAASC,UAAT,EAAqB,CAChC,cAA4BJ,QAAQ,CAAC,EAAD,CAApC,wCAAOK,MAAP,eAAeC,SAAf,eAEA,GAAMC,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CACA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvBT,KAAK,CAACU,GAAN,CAAU,aAAV,CAAyB,CAAEC,OAAO,CAAE,CAAEC,aAAa,kBAAYN,WAAZ,CAAf,CAAX,CAAzB,EACKO,IADL,CACU,SAAAC,QAAQ,CAAI,CACdT,SAAS,CAACS,QAAQ,CAACC,IAAT,CAAcC,aAAf,CAAT,CACH,CAHL,EAIKC,KAJL,CAIW,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAJd,EAKH,CAND,CAQApB,SAAS,CAAC,UAAM,CACZW,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACI,wCACI,uCADJ,cAEI,KAAC,QAAD,EAAU,YAAY,CAAEA,YAAxB,EAFJ,CAGKL,MAAM,CAACiB,GAAP,CAAW,SAAAC,KAAK,qBAAI,KAAC,SAAD,kBAA+BA,KAA/B,EAAgBA,KAAK,CAACC,GAAtB,CAAJ,EAAhB,CAHL,GADJ,CAOH"},"metadata":{},"sourceType":"module"}