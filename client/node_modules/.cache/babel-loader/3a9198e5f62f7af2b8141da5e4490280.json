{"ast":null,"code":"import _slicedToArray from\"/Users/sema/tagtag/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState,useEffect}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EventDetails(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),event=_useState2[0],setEvent=_useState2[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();useEffect(function(){var storedToken=localStorage.getItem('authToken');axios.get(\"/api/events/\".concat(id),{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){setEvent(response.data);}).catch(function(err){return console.log(err);});},[]);var deleteEvent=function deleteEvent(){var storedToken=localStorage.getItem('authToken');axios.delete(\"/api/events/\".concat(id),{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(){navigate('/events');}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(_Fragment,{children:event===null?/*#__PURE__*/_jsx(\"h3\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Event Details\"}),/*#__PURE__*/_jsx(\"h3\",{children:event.title}),/*#__PURE__*/_jsx(\"p\",{children:event.date}),/*#__PURE__*/_jsx(\"p\",{children:event.place}),/*#__PURE__*/_jsx(\"p\",{children:event.details}),/*#__PURE__*/_jsx(\"p\",{children:event.tags.join(\", \")}),/*#__PURE__*/_jsx(Link,{to:\"/events/edit/\".concat(event._id),children:/*#__PURE__*/_jsx(\"button\",{children:\"Edit this event \\uD83D\\uDCDD\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteEvent,children:\"Delete this event \\u274C\"})]})});}","map":{"version":3,"names":["axios","React","useState","useEffect","useParams","Link","useNavigate","EventDetails","event","setEvent","id","navigate","storedToken","localStorage","getItem","get","headers","Authorization","then","response","data","catch","err","console","log","deleteEvent","delete","title","date","place","details","tags","join","_id"],"sources":["/Users/sema/tagtag/client/src/pages/EventDetails.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport { useParams, Link, useNavigate } from 'react-router-dom'\n\nexport default function EventDetails() {\n\tconst [event, setEvent] = useState(null)\n\t\n\tconst { id } = useParams()\n\tconst navigate = useNavigate()\n\n\tuseEffect(() => {\n\t\tconst storedToken = localStorage.getItem('authToken')\n\t\taxios.get(`/api/events/${id}`, { headers: { Authorization: `Bearer ${storedToken}` } })\n\t\t\t.then(response => {\n\t\t\t\tsetEvent(response.data)\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}, [])\n\n\tconst deleteEvent = () => {\n\t\tconst storedToken = localStorage.getItem('authToken')\n\t\taxios.delete(`/api/events/${id}`, { headers: { Authorization: `Bearer ${storedToken}` } })\n\t\t\t.then(() => {\n\t\t\t\tnavigate('/events')\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{event === null ? <h3>Loading...</h3> :\n\t\t\t\t<>\n\t\t\t\t\t<h1>Event Details</h1>\n\t\t\t\t\t<h3>{event.title}</h3>\n\t\t\t\t\t<p>{event.date}</p>\n\t\t\t\t\t<p>{event.place}</p>\n\t\t\t\t\t<p>{event.details}</p>\n\t\t\t\t\t<p>{event.tags.join(\", \")}</p>\n\t\t\t\t\t<Link to={`/events/edit/${event._id}`}>\n\t\t\t\t\t\t<button>Edit this event üìù</button>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button onClick={deleteEvent}>Delete this event ‚ùå</button>\n\t\t\t\t</>\n\t\t\t}\n\t\t</>\n\t)\n}"],"mappings":"+GAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,WAA1B,KAA6C,kBAA7C,C,6IAEA,cAAe,SAASC,aAAT,EAAwB,CACtC,cAA0BL,QAAQ,CAAC,IAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eAEA,eAAeL,SAAS,EAAxB,CAAQM,EAAR,YAAQA,EAAR,CACA,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAM,CACf,GAAMS,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CACAd,KAAK,CAACe,GAAN,uBAAyBL,EAAzB,EAA+B,CAAEM,OAAO,CAAE,CAAEC,aAAa,kBAAYL,WAAZ,CAAf,CAAX,CAA/B,EACEM,IADF,CACO,SAAAC,QAAQ,CAAI,CACjBV,QAAQ,CAACU,QAAQ,CAACC,IAAV,CAAR,CACA,CAHF,EAIEC,KAJF,CAIQ,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAJX,EAKA,CAPQ,CAON,EAPM,CAAT,CASA,GAAMG,YAAW,CAAG,QAAdA,YAAc,EAAM,CACzB,GAAMb,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CACAd,KAAK,CAAC0B,MAAN,uBAA4BhB,EAA5B,EAAkC,CAAEM,OAAO,CAAE,CAAEC,aAAa,kBAAYL,WAAZ,CAAf,CAAX,CAAlC,EACEM,IADF,CACO,UAAM,CACXP,QAAQ,CAAC,SAAD,CAAR,CACA,CAHF,EAIEU,KAJF,CAIQ,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAJX,EAKA,CAPD,CASA,mBACC,yBACEd,KAAK,GAAK,IAAV,cAAiB,kCAAjB,cACA,wCACC,qCADD,cAEC,oBAAKA,KAAK,CAACmB,KAAX,EAFD,cAGC,mBAAInB,KAAK,CAACoB,IAAV,EAHD,cAIC,mBAAIpB,KAAK,CAACqB,KAAV,EAJD,cAKC,mBAAIrB,KAAK,CAACsB,OAAV,EALD,cAMC,mBAAItB,KAAK,CAACuB,IAAN,CAAWC,IAAX,CAAgB,IAAhB,CAAJ,EAND,cAOC,KAAC,IAAD,EAAM,EAAE,wBAAkBxB,KAAK,CAACyB,GAAxB,CAAR,uBACC,wDADD,EAPD,cAUC,eAAQ,OAAO,CAAER,WAAjB,sCAVD,GAFF,EADD,CAkBA"},"metadata":{},"sourceType":"module"}