{"ast":null,"code":"import _slicedToArray from\"/Users/sema/tagtag/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import Tags from\"../components/Tags\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function EditEvent(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),place=_useState6[0],setPlace=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),details=_useState8[0],setDetails=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tags=_useState10[0],setTags=_useState10[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();useEffect(function(){var storedToken=localStorage.getItem('authToken');axios.get(\"/api/events/\".concat(id),{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){var _response$data=response.data,title=_response$data.title,date=_response$data.date,place=_response$data.place,details=_response$data.details,tags=_response$data.tags;setTitle(title);setDate(date);setPlace(place);setDetails(details);setTags(tags);}).catch(function(err){return console.log(err);});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();var requestBody={title:title,date:date,place:place,details:details,tags:tags};var storedToken=localStorage.getItem('authToken');// put request to the backend to update the event\naxios.put(\"/api/events/\".concat(id),requestBody,{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(){navigate('/events');}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit event\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"h2\",{children:\"Date & Time\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:function onChange(e){return setDate(e.target.value);}}),/*#__PURE__*/_jsx(\"h2\",{children:\"Place\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:place,onChange:function onChange(e){return setPlace(e.target.value);}}),/*#__PURE__*/_jsx(\"h2\",{children:\"Details\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:details,onChange:function onChange(e){return setDetails(e.target.value);}}),/*#__PURE__*/_jsx(\"h2\",{children:\"Tags\"}),/*#__PURE__*/_jsx(Tags,{tags:tags,setTags:setTags}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update this event\"})]})]});}","map":{"version":3,"names":["axios","React","useState","useEffect","useParams","useNavigate","Tags","EditEvent","title","setTitle","date","setDate","place","setPlace","details","setDetails","tags","setTags","id","navigate","storedToken","localStorage","getItem","get","headers","Authorization","then","response","data","catch","err","console","log","handleSubmit","e","preventDefault","requestBody","put","target","value"],"sources":["/Users/sema/tagtag/client/src/pages/EditEvent.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport Tags from \"../components/Tags\";\n\nexport default function EditEvent() {\n\tconst [title, setTitle] = useState('')\n\tconst [date, setDate] = useState('')\n\tconst [place, setPlace] = useState('')\n\tconst [details, setDetails] = useState('')\n\tconst [tags, setTags] = useState([])\n\n\tconst { id } = useParams()\n\tconst navigate = useNavigate()\n\n\tuseEffect(() => {\n\t\tconst storedToken = localStorage.getItem('authToken')\n\t\taxios.get(`/api/events/${id}`, { headers: { Authorization: `Bearer ${storedToken}` } })\n\t\t\t.then(response => {\n\t\t\t\tconst { title, date, place, details, tags } = response.data\n\t\t\t\tsetTitle(title)\n\t\t\t\tsetDate(date)\n\t\t\t\tsetPlace(place)\n\t\t\t\tsetDetails(details)\n\t\t\t\tsetTags(tags)\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}, [])\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t\tconst requestBody = { title, date, place, details, tags }\n\t\tconst storedToken = localStorage.getItem('authToken')\n\t\t// put request to the backend to update the event\n\t\taxios.put(`/api/events/${id}`, requestBody, { headers: { Authorization: `Bearer ${storedToken}` } })\n\t\t\t.then(() => {\n\t\t\t\tnavigate('/events')\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Edit event</h1>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<h2>Title</h2>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={title}\n\t\t\t\t\tonChange={e => setTitle(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<h2>Date & Time</h2>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"date\"\n\t\t\t\t\tvalue={date}\n\t\t\t\t\tonChange={e => setDate(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<h2>Place</h2>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={place}\n\t\t\t\t\tonChange={e => setPlace(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<h2>Details</h2>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={details}\n\t\t\t\t\tonChange={e => setDetails(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<h2>Tags</h2>\n\t\t\t\t<Tags\n\t\t\t\t\ttags={tags}\n\t\t\t\t\tsetTags={setTags}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\">Update this event</button>\n\t\t\t</form>\n\n\t\t</>\n\t)\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}