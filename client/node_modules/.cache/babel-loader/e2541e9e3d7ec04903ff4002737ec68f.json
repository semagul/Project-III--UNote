{"ast":null,"code":"import _slicedToArray from\"/Users/sema/tagtag/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import Tags from\"../components/Tags\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function EditAudio(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tags=_useState4[0],setTags=_useState4[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();useEffect(function(){var storedToken=localStorage.getItem('authToken');axios.get(\"/api/audios/\".concat(id),{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){var _response$data=response.data,title=_response$data.title,date=_response$data.date,place=_response$data.place,details=_response$data.details,tags=_response$data.tags;setTitle(title);setTags(tags);}).catch(function(err){return console.log(err);});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();var requestBody={title:title,tags:tags};var storedToken=localStorage.getItem('authToken');axios.put(\"/api/audios/edit/\".concat(id),requestBody,{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(){navigate('/audios');}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit audio\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"h2\",{children:\"Tags\"}),/*#__PURE__*/_jsx(Tags,{tags:tags,setTags:setTags}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update this audio\"})]})]});}","map":{"version":3,"names":["axios","React","useState","useEffect","useParams","useNavigate","Tags","EditAudio","title","setTitle","tags","setTags","id","navigate","storedToken","localStorage","getItem","get","headers","Authorization","then","response","data","date","place","details","catch","err","console","log","handleSubmit","e","preventDefault","requestBody","put","target","value"],"sources":["/Users/sema/tagtag/client/src/pages/EditAudio.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport Tags from \"../components/Tags\";\n\nexport default function EditAudio() {\n\tconst [title, setTitle] = useState('')\n\tconst [tags, setTags] = useState([])\n\n\tconst { id } = useParams()\n\tconst navigate = useNavigate()\n\n\tuseEffect(() => {\n\t\tconst storedToken = localStorage.getItem('authToken')\n\t\taxios.get(`/api/audios/${id}`, { headers: { Authorization: `Bearer ${storedToken}` } })\n\t\t\t.then(response => {\n\t\t\t\tconst { title, date, place, details, tags } = response.data\n\t\t\t\tsetTitle(title)\n\t\t\t\tsetTags(tags)\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}, [])\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t\tconst requestBody = { title, tags }\n\t\tconst storedToken = localStorage.getItem('authToken')\n\t\taxios.put(`/api/audios/edit/${id}`, requestBody, { headers: { Authorization: `Bearer ${storedToken}` } })\n\t\t\t.then(() => {\n\t\t\t\tnavigate('/audios')\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Edit audio</h1>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<h2>Title</h2>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={title}\n\t\t\t\t\tonChange={e => setTitle(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<h2>Tags</h2>\n\t\t\t\t<Tags\n\t\t\t\t\ttags={tags}\n\t\t\t\t\tsetTags={setTags}\n\t\t\t\t/>\n\n\t\t\t\t<button type=\"submit\">Update this audio</button>\n\t\t\t</form>\n\n\t\t</>\n\t)\n}"],"mappings":"+GAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,MAAOC,KAAP,KAAiB,oBAAjB,C,6IAEA,cAAe,SAASC,UAAT,EAAqB,CACnC,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAwBP,QAAQ,CAAC,EAAD,CAAhC,yCAAOQ,IAAP,eAAaC,OAAb,eAEA,eAAeP,SAAS,EAAxB,CAAQQ,EAAR,YAAQA,EAAR,CACA,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACf,GAAMW,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CACAhB,KAAK,CAACiB,GAAN,uBAAyBL,EAAzB,EAA+B,CAAEM,OAAO,CAAE,CAAEC,aAAa,kBAAYL,WAAZ,CAAf,CAAX,CAA/B,EACEM,IADF,CACO,SAAAC,QAAQ,CAAI,CACjB,mBAA8CA,QAAQ,CAACC,IAAvD,CAAQd,KAAR,gBAAQA,KAAR,CAAee,IAAf,gBAAeA,IAAf,CAAqBC,KAArB,gBAAqBA,KAArB,CAA4BC,OAA5B,gBAA4BA,OAA5B,CAAqCf,IAArC,gBAAqCA,IAArC,CACAD,QAAQ,CAACD,KAAD,CAAR,CACAG,OAAO,CAACD,IAAD,CAAP,CACA,CALF,EAMEgB,KANF,CAMQ,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EANX,EAOA,CATQ,CASN,EATM,CAAT,CAWA,GAAMG,aAAY,CAAG,QAAfA,aAAe,CAAAC,CAAC,CAAI,CACzBA,CAAC,CAACC,cAAF,GACA,GAAMC,YAAW,CAAG,CAAEzB,KAAK,CAALA,KAAF,CAASE,IAAI,CAAJA,IAAT,CAApB,CACA,GAAMI,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CACAhB,KAAK,CAACkC,GAAN,4BAA8BtB,EAA9B,EAAoCqB,WAApC,CAAiD,CAAEf,OAAO,CAAE,CAAEC,aAAa,kBAAYL,WAAZ,CAAf,CAAX,CAAjD,EACEM,IADF,CACO,UAAM,CACXP,QAAQ,CAAC,SAAD,CAAR,CACA,CAHF,EAIEa,KAJF,CAIQ,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAJX,EAKA,CATD,CAWA,mBACC,wCACC,kCADD,cAEC,cAAM,QAAQ,CAAEG,YAAhB,wBACC,6BADD,cAEC,cACC,IAAI,CAAC,MADN,CAEC,KAAK,CAAEtB,KAFR,CAGC,QAAQ,CAAE,kBAAAuB,CAAC,QAAItB,SAAQ,CAACsB,CAAC,CAACI,MAAF,CAASC,KAAV,CAAZ,EAHZ,EAFD,cAQC,4BARD,cASC,KAAC,IAAD,EACC,IAAI,CAAE1B,IADP,CAEC,OAAO,CAAEC,OAFV,EATD,cAcC,eAAQ,IAAI,CAAC,QAAb,+BAdD,GAFD,GADD,CAsBA"},"metadata":{},"sourceType":"module"}