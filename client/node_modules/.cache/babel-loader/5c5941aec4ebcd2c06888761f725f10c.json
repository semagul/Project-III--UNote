{"ast":null,"code":"import _slicedToArray from\"/Users/sema/tagtag/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import Tags from\"../components/Tags\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function EditNote(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();useEffect(function(){var storedToken=localStorage.getItem('authToken');axios.get(\"/api/notes/\".concat(id),{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(response){var _response$data=response.data,title=_response$data.title,description=_response$data.description,tags=_response$data.tags;setTitle(title);setDescription(description);setTags(tags);}).catch(function(err){return console.log(err);});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();var requestBody={title:title,description:description,tags:tags};var storedToken=localStorage.getItem('authToken');// put request to the backend to update the note\naxios.put(\"/api/notes/\".concat(id),requestBody,{headers:{Authorization:\"Bearer \".concat(storedToken)}}).then(function(){navigate('/notes');}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit note\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Title\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"h2\",{children:\"Details\"}),/*#__PURE__*/_jsx(\"input\",{type:\"description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"h2\",{children:\"Tags\"}),/*#__PURE__*/_jsx(Tags,{tags:tags,setTags:setTags}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update this note\"})]})]});}","map":{"version":3,"names":["axios","React","useState","useEffect","useParams","useNavigate","Tags","EditNote","title","setTitle","description","setDescription","tags","setTags","id","navigate","storedToken","localStorage","getItem","get","headers","Authorization","then","response","data","catch","err","console","log","handleSubmit","e","preventDefault","requestBody","put","target","value"],"sources":["/Users/sema/tagtag/client/src/pages/EditNote.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport Tags from \"../components/Tags\";\n\nexport default function EditNote() {\n\tconst [title, setTitle] = useState('')\n\tconst [description, setDescription] = useState('')\n\tconst [tags, setTags] = useState([])\n\n\tconst { id } = useParams()\n\tconst navigate = useNavigate()\n\n\tuseEffect(() => {\n\t\tconst storedToken = localStorage.getItem('authToken')\n\t\taxios.get(`/api/notes/${id}`, { headers: { Authorization: `Bearer ${storedToken}` } })\n\t\t\t.then(response => {\n\t\t\t\tconst { title, description, tags } = response.data\n\t\t\t\tsetTitle(title)\n\t\t\t\tsetDescription(description)\n\t\t\t\tsetTags(tags)\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}, [])\n\n\tconst handleSubmit = e => {\n\t\te.preventDefault()\n\t\tconst requestBody = { title, description, tags }\n\t\tconst storedToken = localStorage.getItem('authToken')\n\t\t// put request to the backend to update the note\n\t\taxios.put(`/api/notes/${id}`, requestBody, { headers: { Authorization: `Bearer ${storedToken}` } })\n\t\t\t.then(() => {\n\t\t\t\tnavigate('/notes')\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t}\n\n\n\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Edit note</h1>\n\t\t\t<h2>Title</h2>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={title}\n\t\t\t\t\tonChange={e => setTitle(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<h2>Details</h2>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"description\"\n\t\t\t\t\tvalue={description}\n\t\t\t\t\tonChange={e => setDescription(e.target.value)}\n\t\t\t\t/>\n\n\t\t\t\t<h2>Tags</h2>\n\t\t\t\t<Tags\n\t\t\t\t\ttags={tags}\n\t\t\t\t\tsetTags={setTags}\n\t\t\t\t/>\n\t\t\t\t<button type=\"submit\">Update this note</button>\n\t\t\t</form>\n\t\t\t\n\t\t</>\n\t)\n}\n"],"mappings":"+GAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,MAAOC,KAAP,KAAiB,oBAAjB,C,6IAEA,cAAe,SAASC,SAAT,EAAoB,CAClC,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAsCP,QAAQ,CAAC,EAAD,CAA9C,yCAAOQ,WAAP,eAAoBC,cAApB,eACA,eAAwBT,QAAQ,CAAC,EAAD,CAAhC,yCAAOU,IAAP,eAAaC,OAAb,eAEA,eAAeT,SAAS,EAAxB,CAAQU,EAAR,YAAQA,EAAR,CACA,GAAMC,SAAQ,CAAGV,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,CACf,GAAMa,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CACAlB,KAAK,CAACmB,GAAN,sBAAwBL,EAAxB,EAA8B,CAAEM,OAAO,CAAE,CAAEC,aAAa,kBAAYL,WAAZ,CAAf,CAAX,CAA9B,EACEM,IADF,CACO,SAAAC,QAAQ,CAAI,CACjB,mBAAqCA,QAAQ,CAACC,IAA9C,CAAQhB,KAAR,gBAAQA,KAAR,CAAeE,WAAf,gBAAeA,WAAf,CAA4BE,IAA5B,gBAA4BA,IAA5B,CACAH,QAAQ,CAACD,KAAD,CAAR,CACAG,cAAc,CAACD,WAAD,CAAd,CACAG,OAAO,CAACD,IAAD,CAAP,CACA,CANF,EAOEa,KAPF,CAOQ,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAPX,EAQA,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAMG,aAAY,CAAG,QAAfA,aAAe,CAAAC,CAAC,CAAI,CACzBA,CAAC,CAACC,cAAF,GACA,GAAMC,YAAW,CAAG,CAAExB,KAAK,CAALA,KAAF,CAASE,WAAW,CAAXA,WAAT,CAAsBE,IAAI,CAAJA,IAAtB,CAApB,CACA,GAAMI,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAApB,CACA;AACAlB,KAAK,CAACiC,GAAN,sBAAwBnB,EAAxB,EAA8BkB,WAA9B,CAA2C,CAAEZ,OAAO,CAAE,CAAEC,aAAa,kBAAYL,WAAZ,CAAf,CAAX,CAA3C,EACEM,IADF,CACO,UAAM,CACXP,QAAQ,CAAC,QAAD,CAAR,CACA,CAHF,EAIEU,KAJF,CAIQ,SAAAC,GAAG,QAAIC,QAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ,EAJX,EAKA,CAVD,CAeA,mBACC,wCACC,iCADD,cAEC,6BAFD,cAGC,cAAM,QAAQ,CAAEG,YAAhB,wBACC,cACC,IAAI,CAAC,MADN,CAEC,KAAK,CAAErB,KAFR,CAGC,QAAQ,CAAE,kBAAAsB,CAAC,QAAIrB,SAAQ,CAACqB,CAAC,CAACI,MAAF,CAASC,KAAV,CAAZ,EAHZ,EADD,cAOC,+BAPD,cAQC,cACC,IAAI,CAAC,aADN,CAEC,KAAK,CAAEzB,WAFR,CAGC,QAAQ,CAAE,kBAAAoB,CAAC,QAAInB,eAAc,CAACmB,CAAC,CAACI,MAAF,CAASC,KAAV,CAAlB,EAHZ,EARD,cAcC,4BAdD,cAeC,KAAC,IAAD,EACC,IAAI,CAAEvB,IADP,CAEC,OAAO,CAAEC,OAFV,EAfD,cAmBC,eAAQ,IAAI,CAAC,QAAb,8BAnBD,GAHD,GADD,CA4BA"},"metadata":{},"sourceType":"module"}